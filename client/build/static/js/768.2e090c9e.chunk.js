"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[768],{9348:(e,a,s)=>{s.d(a,{c:()=>j});s(9060);var t=s(496),c=s(12),n=s(3928),l=s(9652),r=s(7640),o=s(8372),i=s(1560),d=s(2496);const m=()=>{const[e,a]=(0,r.k)(),s=(0,i.i6)();return(0,d.jsx)("div",{children:(0,d.jsxs)("form",{className:"search-form d-flex",role:"search",onSubmit:async t=>{t.preventDefault();try{const{data:t}=await o.c.get("/api/v1/product/search/".concat(e.keyword));a({...e,results:t}),s("/search")}catch(c){console.log(c)}},children:[(0,d.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search",value:e.keyword,onChange:s=>a({...e,keyword:s.target.value})}),(0,d.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})};var h=s(6068),u=s(2020),x=s(6952);const p=()=>{var e,a;const[s,t]=(0,n.S)(),[r]=(0,u.G)(),o=(0,h.c)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("nav",{className:"navbar navbar-expand-lg bg-body-tertiary fixed-top",children:(0,d.jsxs)("div",{className:"container-fluid",children:[(0,d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,d.jsx)("span",{className:"navbar-toggler-icon"})}),(0,d.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,d.jsx)(c.cH,{className:"navbar-brand",to:"/",children:"\ud83d\uded2Ecommerce App"}),(0,d.jsxs)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[(0,d.jsx)(m,{}),(0,d.jsx)("li",{className:"nav-item ms-2",children:(0,d.jsx)(c.Af,{className:"nav-link",to:"/",children:"Home"})}),(0,d.jsxs)("li",{className:"nav-item dropdown",children:[(0,d.jsx)(c.cH,{className:"nav-link dropdown-toggle",to:"/categories",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Categories"}),(0,d.jsxs)("ul",{className:"dropdown-menu",children:[(0,d.jsx)("li",{children:(0,d.jsx)(c.cH,{className:"dropdown-item",to:"/categories",children:"All Categories"})}),null===o||void 0===o?void 0:o.map((e=>(0,d.jsx)("li",{children:(0,d.jsx)(c.cH,{className:"dropdown-item",to:"/category/".concat(e.slug),children:e.name})},e._id)))]})]}),s.user?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("li",{className:"nav-item dropdown",children:[(0,d.jsx)(c.Af,{className:"nav-link dropdown-toggle",role:"button","data-bs-toggle":"dropdown",to:"#","aria-expanded":"false",children:null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.name}),(0,d.jsxs)("ul",{className:"dropdown-menu",children:[(0,d.jsx)("li",{children:(0,d.jsx)(c.Af,{className:"dropdown-item",to:"/dashboard/".concat(1===(null===s||void 0===s||null===(a=s.user)||void 0===a?void 0:a.role)?"admin":"user"),children:"Dashboard"})}),(0,d.jsx)("li",{children:(0,d.jsx)(c.Af,{onClick:()=>{t({...s,user:null,token:""}),localStorage.removeItem("auth"),l.cp.success("Logout successfully")},className:"dropdown-item",to:"/login",children:"Logout"})})]})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(c.Af,{className:"nav-link",to:"/register",children:"Register"})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(c.Af,{className:"nav-link",to:"/login",children:"Login"})})]}),(0,d.jsx)("li",{className:"nav-item mt-2",children:(0,d.jsx)(x.c,{count:null===r||void 0===r?void 0:r.length,showZero:!0,children:(0,d.jsx)(c.Af,{className:"nav-link",to:"/cart",children:"Cart"})})})]})]})]})})})},v=()=>(0,d.jsxs)("div",{className:"footer",children:[(0,d.jsx)("h1",{className:"text-center",children:"All Right Reserved \xa9 KaranM"}),(0,d.jsxs)("p",{className:"text-center mt-3",children:[(0,d.jsx)(c.cH,{to:"/about",children:"About"}),(0,d.jsx)(c.cH,{to:"/contact",children:"Contact"}),(0,d.jsx)(c.cH,{to:"/policy",children:"Private Policy"})]})]}),g=e=>{let{children:a,title:s,description:c,keywords:n,author:r}=e;return(0,d.jsxs)("div",{children:[(0,d.jsxs)(t.S,{children:[(0,d.jsx)("meta",{charSet:"utf-8"}),(0,d.jsx)("meta",{name:"description",content:c}),(0,d.jsx)("meta",{name:"keywords",content:n}),(0,d.jsx)("meta",{name:"author",content:r}),(0,d.jsx)("title",{children:s})]}),(0,d.jsx)(p,{}),(0,d.jsxs)("main",{style:{minHeight:"70vh"},children:[(0,d.jsx)(l.ox,{}),a]}),(0,d.jsx)(v,{})]})};g.defaultProps={title:"Ecommerce app",description:"mern stack project",keywords:"mern,react,node,mongodb,express",author:"karanm_"};const j=g},6068:(e,a,s)=>{s.d(a,{c:()=>n});var t=s(9060),c=s(8372);function n(){const[e,a]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const{data:e}=await c.c.get("/api/v1/category/get-category");a(null===e||void 0===e?void 0:e.category)}catch(e){console.log(e)}})()}),[]),e}},4768:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(9060),c=s(9348),n=s(9652),l=s(8372),r=s(4900),o=s(5008);const i=[{_id:0,name:"\u20b90 to 99",array:[0,99]},{_id:1,name:"\u20b9100 to 499",array:[100,499]},{_id:2,name:"\u20b9500 to 999",array:[500,999]},{_id:3,name:"\u20b91000 to 9999",array:[1e3,9999]},{_id:4,name:"\u20b910000 or more",array:[1e4,1e5]}];var d=s(1560),m=s(2020),h=s(2496);const u=()=>{const[e,a]=(0,m.G)(),[s,u]=(0,t.useState)([]),[x,p]=(0,t.useState)([]),[v,g]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[b,f]=(0,t.useState)(0),[y,w]=(0,t.useState)(1),[k,S]=(0,t.useState)(!1),C=(0,d.i6)();return(0,t.useEffect)((()=>{1!==y&&(async()=>{try{S(!0);const{data:e}=await l.c.get("/api/v1/product/list-product/".concat(y));S(!1),u([...s,...null===e||void 0===e?void 0:e.products])}catch(e){console.log(e),S(!1)}})()}),[y]),(0,t.useEffect)((()=>{(async()=>{try{const{data:e}=await l.c.get("/api/v1/category/get-category");null!==e&&void 0!==e&&e.success&&p(null===e||void 0===e?void 0:e.category)}catch(e){console.log(e)}})(),(async()=>{try{const{data:e}=await l.c.get("/api/v1/product/count-product");f(null===e||void 0===e?void 0:e.total)}catch(e){console.log(e)}})()}),[]),(0,t.useEffect)((()=>{v.length&&j.length||(async()=>{try{S(!0);const{data:e}=await l.c.get("/api/v1/product/list-product/".concat(y));S(!1),u(e.products)}catch(e){S(!1),console.log(e)}})()}),[]),(0,t.useEffect)((()=>{(v.length||j.length)&&(async()=>{try{const{data:e}=await l.c.post("/api/v1/product/filter-product",{checked:v,radio:j});u(null===e||void 0===e?void 0:e.products)}catch(e){console.log(e)}})()}),[v,j]),(0,h.jsx)("div",{children:(0,h.jsxs)(c.c,{title:"All Products - Best offers",children:[(0,h.jsx)("img",{src:"/images/banner.png",className:"banner-img",alt:"bannerimage",width:"100%"}),(0,h.jsxs)("div",{className:"container-fluid row mt-3 home-page",children:[(0,h.jsxs)("div",{className:"col-md-3 filters",children:[(0,h.jsx)("h4",{className:"text-center",children:"Filter By Category"}),(0,h.jsx)("div",{className:"d-flex flex-column",children:null===x||void 0===x?void 0:x.map((e=>(0,h.jsx)(r.c,{onChange:a=>((e,a)=>{let s=[...v];e?s.push(a):s=s.filter((e=>e!==a)),g(s)})(a.target.checked,e._id),children:e.name},e._id)))}),(0,h.jsx)("h4",{className:"text-center mt-4",children:"Filter By Price"}),(0,h.jsx)("div",{className:"d-flex flex-column",children:(0,h.jsx)(o.cp.Group,{onChange:e=>N(e.target.value),children:null===i||void 0===i?void 0:i.map((e=>(0,h.jsx)("div",{children:(0,h.jsx)(o.cp,{value:e.array,children:e.name})},e._id)))})}),(0,h.jsx)("div",{className:"d-flex flex-column",children:(0,h.jsx)("button",{className:"btn btn-danger mt-2",onClick:()=>{window.location.reload()},children:"RESET FILTERS"})})]}),(0,h.jsxs)("div",{className:"col-md-9",children:[(0,h.jsx)("h1",{className:"text-center",children:"All Products"}),(0,h.jsx)("div",{className:"d-flex flex-wrap",children:null===s||void 0===s?void 0:s.map((s=>(0,h.jsxs)("div",{className:"card m-2",children:[(0,h.jsx)("img",{src:"/api/v1/product/product-photo/".concat(s._id),className:"card-img-top",alt:s.name}),(0,h.jsxs)("div",{className:"card-body ",children:[(0,h.jsxs)("div",{className:"card-name-price",children:[(0,h.jsx)("h5",{className:"card-title",children:s.name}),(0,h.jsxs)("h5",{className:"card-title card-price",children:["\u20b9 ",s.price]})]}),(0,h.jsxs)("p",{className:"card-text ",children:[s.description.substring(0,60)," . . ."]}),(0,h.jsxs)("div",{className:"card-name-price",children:[(0,h.jsx)("button",{className:"btn btn-info ms-1",onClick:()=>C("/product/".concat(s.slug)),children:"More Details"}),(0,h.jsx)("button",{className:"btn btn-dark ms-1",onClick:()=>{a([...e,s]),localStorage.setItem("cart",JSON.stringify([...e,s])),n.cp.success("Item added to cart")},children:"Add To Cart"})]})]})]},s._id)))}),(0,h.jsx)("div",{className:"m-2 p-3",children:s&&s.length<b&&(0,h.jsx)("button",{className:"btn loadmore",onClick:e=>{e.preventDefault(),w(y+1)},children:k?"Loading...":"Loadmore"})})]})]})]})})}}}]);
//# sourceMappingURL=768.2e090c9e.chunk.js.map