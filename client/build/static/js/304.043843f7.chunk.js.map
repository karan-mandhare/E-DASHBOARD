{"version":3,"file":"static/js/304.043843f7.chunk.js","mappings":"6LAMA,MAmBA,EAnBmBA,KACjB,MAAOC,EAAIC,IAASC,EAAAA,EAAAA,WAAS,IACtBC,EAAMC,IAAWC,EAAAA,EAAAA,KAcxB,OAZAC,EAAAA,EAAAA,YAAU,KASA,OAAJH,QAAI,IAAJA,GAAAA,EAAMI,OARQC,kBACEC,EAAAA,EAAMC,IAAI,4BACpBC,KAAKX,GACXC,GAAM,GAENA,GAAM,EACR,EAEeW,EAAW,GAC3B,CAAK,OAAJT,QAAI,IAAJA,OAAI,EAAJA,EAAMI,QAEHP,GAAKa,EAAAA,EAAAA,KAACC,EAAAA,GAAM,KAAMD,EAAAA,EAAAA,KAACE,EAAAA,EAAO,CAACC,KAAK,IAAK,C,oECnB9C,MA0BA,EA1BgBC,IAAyB,IAAxB,KAAED,EAAO,SAASC,EACjC,MAAOC,EAAOC,IAAYjB,EAAAA,EAAAA,UAAS,GAC7BkB,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAUjB,OARAjB,EAAAA,EAAAA,YAAU,KACR,MAAMkB,EAAWC,aAAY,KAC3BN,GAAUO,KAAQA,GAAE,GACnB,KAEH,OADU,IAAVR,GAAeE,EAAS,IAADO,OAAKX,GAAQ,CAAEY,MAAO,CAAEC,KAAMP,EAASQ,YACvD,IAAMC,cAAcP,EAAS,GACnC,CAACN,EAAOE,EAAUE,EAAUN,KAG7BgB,EAAAA,EAAAA,MAAA,OACEC,UAAU,+DACVC,MAAO,CAAEC,OAAQ,SAAUC,SAAA,EAE3BJ,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAaG,SAAA,CAAC,yBAAuBlB,EAAM,cACzDL,EAAAA,EAAAA,KAAA,OAAKoB,UAAU,iBAAiBI,KAAK,SAAQD,UAC3CvB,EAAAA,EAAAA,KAAA,QAAMoB,UAAU,kBAAiBG,SAAC,mBAEhC,C","sources":["components/Routes/AdminRoute.js","components/Spinner.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"../Spinner\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nconst AdminRoute = () => {\r\n  const [ok, setOk] = useState(false);\r\n  const [auth, setAuth] = useAuth();\r\n\r\n  useEffect(() => {\r\n    const authCheck = async () => {\r\n      const res = await axios.get(\"/api/v1/auth/admin-auth\");\r\n      if (res.data.ok) {\r\n        setOk(true);\r\n      } else {\r\n        setOk(false);\r\n      }\r\n    };\r\n    if (auth?.token) authCheck();\r\n  }, [auth?.token]);\r\n\r\n  return ok ? <Outlet /> : <Spinner path=\"\" />;\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nconst Spinner = ({ path = \"login\" }) => {\r\n  const [count, setCount] = useState(3);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCount((e) => --e);\r\n    }, 1000);\r\n    count === 0 && navigate(`/${path}`, { state: { from: location.pathname } });\r\n    return () => clearInterval(interval);\r\n  }, [count, navigate, location, path]);\r\n\r\n  return (\r\n    <div\r\n      className=\"d-flex flex-column justify-content-center align-items-center\"\r\n      style={{ height: \"100vh\" }}\r\n    >\r\n      <h1 className=\"text-center\">redirecting to you in {count} second</h1>\r\n      <div className=\"spinner-border\" role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n"],"names":["AdminRoute","ok","setOk","useState","auth","setAuth","useAuth","useEffect","token","async","axios","get","data","authCheck","_jsx","Outlet","Spinner","path","_ref","count","setCount","navigate","useNavigate","location","useLocation","interval","setInterval","e","concat","state","from","pathname","clearInterval","_jsxs","className","style","height","children","role"],"sourceRoot":""}